<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒŸãƒ‹ã‚²ãƒ¼ãƒ -ä¾‹</title>
    <style>
        body {
            /* èƒŒæ™¯ã®è‰²ã‚’æŒ‡å®š(ã‚‚ã—ç”»åƒãŒèª­ã¿è¾¼ã¾ã‚Œãªã‹ã£ãŸã‚‰æ™‚ã‚’æƒ³å®šã™ã‚‹ãŸã‚) */
            background-color: #f0f0f0;
            /* èƒŒæ™¯ç”»åƒã‚’æŒ‡å®š */
            background-image: url("./data/background.png");
            /* èƒŒæ™¯ç”»åƒã‚’è¦†ã†ã‚ˆã†ã«æŒ‡å®š */
            background-size: cover;
            /* èƒŒæ™¯ç”»åƒã‚’ä¸­å¤®ã«é…ç½®ã™ã‚‹ã‚ˆã†ã«æŒ‡å®š */
            background-position: center;
            /* èƒŒæ™¯ç”»åƒã‚’ç¹°ã‚Šè¿”ã•ãªã„ã‚ˆã†ã«æŒ‡å®š */
            background-repeat: no-repeat;
            /* å­è¦ç´ ã‚’ç”»é¢ä¸­å¤®ã«é…ç½®ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ */
            display: flex;
            justify-content: center;
            align-items: center;
            /* è¦ç´ ã®å¤§ãã•ã‚’æŒ‡å®šã™ã‚‹ */
            width: 100vw;
            height: 100vh;
            /* ã¯ã¿å‡ºãŸã‚‚ã®ã‚’éè¡¨ç¤ºã«ã™ã‚‹ (ãªã‚“ã‹è¦ç´ ãŒè¦‹ãˆãªã„ã¨ãã¯ã“ã‚Œã‚’visiableã«ã™ã‚‹ã¨è‰¯ã„ã‹ã‚‚)*/
            overflow: hidden;
        }
    </style>
</head>

<body>
    <!-- é–‹å§‹ç”»é¢ æœ€åˆã¯è¡¨ç¤ºã™ã‚‹-->
    <div id="start-screen" class="screen">
        <div class="card">
            <h1>ğŸ–±ï¸ ã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸</h1>
            <p>10ç§’é–“ã§ã©ã‚Œã ã‘ã‚¯ãƒªãƒƒã‚¯ã§ãã‚‹ã‹æŒ‘æˆ¦ã—ã‚ˆã†ï¼</p>
        </div>
    </div>
    <!-- èª¬æ˜ç”»é¢ æœ€åˆã¯éè¡¨ç¤º-->
    <div id="instruction-screen" class="screen" style="display: none;">
        <div class="card">
            <h2>éŠã³æ–¹</h2>
            <div class="instruction-list">
                <p>1ï¸âƒ£ ã‚²ãƒ¼ãƒ ãŒå§‹ã¾ã£ãŸã‚‰ã€ç”»é¢ä¸­å¤®ã®ãƒœã‚¿ãƒ³ã‚’é€£æ‰“ï¼</p>
                <!-- ã‚²ãƒ¼ãƒ ã¯30ç§’ã§çµ‚ã‚ã‚‹ -->
                <p>2ï¸âƒ£ åˆ¶é™æ™‚é–“ã¯ <strong>30ç§’</strong> ã§ã™</p>
                <p>3ï¸âƒ£ ã‚¯ãƒªãƒƒã‚¯å›æ•°ã«å¿œã˜ã¦å¾—ç‚¹ãŒæ±ºã¾ã‚Šã¾ã™</p>
                <div class="score-table">
                    <p>ğŸ¥‡ 100ã‚¯ãƒªãƒƒã‚¯ä»¥ä¸Š â†’ 100ç‚¹</p>
                    <p>ğŸ¥ˆ 80ã‚¯ãƒªãƒƒã‚¯ä»¥ä¸Š â†’ 80ç‚¹</p>
                    <p>ğŸ¥‰ 50ã‚¯ãƒªãƒƒã‚¯ä»¥ä¸Š â†’ 50ç‚¹</p>
                </div>
            </div>
        </div>
    </div>
    <!-- ã‚²ãƒ¼ãƒ ç”»é¢ æœ€åˆã¯éè¡¨ç¤º-->
    <div id="game-screen" class="screen" style="display: none;">
        <div class="game-container">
            <button id="click-button">
                <span id="click-count">0</span>
                <small>ã‚¯ãƒªãƒƒã‚¯ï¼</small>
            </button>
        </div>
    </div>
</body>

<style>
    /* ã‚³ã‚³ã‚‰ã¸ã‚“ã¯ãŠå¥½ã¿ã§ */
    .screen {
        text-align: center;
    }

    .card {
        background: rgba(255, 255, 255, 0.95);
        padding: 40px 60px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        max-width: 500px;
    }

    .card h1 {
        font-size: 2.5em;
        margin-bottom: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .card h2 {
        font-size: 2em;
        margin-bottom: 30px;
        color: #333;
    }

    .card p {
        font-size: 1.2em;
        color: #555;
        margin: 10px 0;
    }

    .hint {
        font-size: 0.9em !important;
        color: #888 !important;
        margin-top: 20px !important;
    }

    .instruction-list {
        text-align: left;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        margin: 20px 0;
    }

    .instruction-list p {
        margin: 15px 0;
    }

    .score-table {
        background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
    }

    .score-table p {
        font-size: 1em !important;
        margin: 8px 0 !important;
    }

    .game-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 30px;
    }

    .timer-display {
        font-size: 2em;
        font-weight: bold;
        color: white;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        background: rgba(0, 0, 0, 0.5);
        padding: 15px 30px;
        border-radius: 15px;
    }

    #timer {
        color: #ffeb3b;
        font-size: 1.2em;
    }

    #click-button {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        border: none;
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        color: white;
        font-size: 1.5em;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        box-shadow: 0 10px 30px rgba(17, 153, 142, 0.4);
        transition: transform 0.1s, box-shadow 0.1s;
        user-select: none;
    }

    #click-button:hover {
        transform: scale(1.05);
    }

    #click-button:active {
        transform: scale(0.95);
        box-shadow: 0 5px 15px rgba(17, 153, 142, 0.4);
    }

    #click-count {
        font-size: 3em;
        font-weight: bold;
    }

    #click-button small {
        font-size: 0.8em;
        opacity: 0.9;
    }

    .progress-bar {
        width: 300px;
        height: 20px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 10px;
        overflow: hidden;
    }

    #progress-fill {
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, #11998e 0%, #38ef7d 100%);
        transition: width 0.1s linear;
    }
</style>

<script>
    //å„è¦ç´ ã®IDã‚’å–å¾—ã—ã¦æ“ä½œã‚’ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
    const startScreen = document.getElementById("start-screen");
    const instructionScreen = document.getElementById("instruction-screen");
    const gameScreen = document.getElementById("game-screen");

    //ã‚²ãƒ¼ãƒ é–¢é€£ã®è¦ç´ 
    const clickButton = document.getElementById("click-button");
    const clickCountDisplay = document.getElementById("click-count");


    //å¾—ç‚¹è¨ˆç®—ç”¨ æœ€å¤§100ç‚¹
    let points = 0;
    let clickCount = 0;
    let isGameRunning = false;

    //èª¬æ˜æ–‡ã‚’å‡ºã™ã‚‚ã®
    function instruction() {
        startScreen.style.display = "none";
        instructionScreen.style.display = "flex";
        gameScreen.style.display = "none";
        console.log("[Game] èª¬æ˜ç”»é¢ã‚’è¡¨ç¤º");
    }

    //ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã™ã‚‹ã‚‚ã®
    function gameStart() {
        // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
        startScreen.style.display = "none";
        instructionScreen.style.display = "none";
        gameScreen.style.display = "flex";

        // ã‚²ãƒ¼ãƒ çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
        clickCount = 0;
        isGameRunning = true;

        // è¡¨ç¤ºãƒªã‚»ãƒƒãƒˆ
        clickCountDisplay.textContent = "0";
        clickButton.disabled = false;

        console.log("[Game] ã‚²ãƒ¼ãƒ é–‹å§‹ï¼");

    }

    // ã‚¯ãƒªãƒƒã‚¯ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆ
    clickButton.addEventListener("click", () => {
        if (isGameRunning) {
            clickCount++;
            clickCountDisplay.textContent = clickCount;

            // ãƒœã‚¿ãƒ³ã®è‰²ã‚’å°‘ã—å¤‰ãˆã‚‹æ¼”å‡º
            clickButton.style.background = `linear-gradient(135deg, hsl(${170 + clickCount % 30}, 80%, 40%) 0%, hsl(${140 + clickCount % 30}, 80%, 60%) 100%)`;
        }
    });

    // ã‚²ãƒ¼ãƒ çµ‚äº†å‡¦ç†
    function endGame() {
        isGameRunning = false;
        clickButton.disabled = true;

        // ã‚¹ã‚³ã‚¢è¨ˆç®—
        if (clickCount >= 100) {
            points = 100;
        } else if (clickCount >= 80) {
            points = 80;
        } else if (clickCount >= 50) {
            points = 50;
        } else {
            points = Math.floor(clickCount / 2);
        }

        console.log(`[Game] ã‚²ãƒ¼ãƒ çµ‚äº†ï¼ ã‚¯ãƒªãƒƒã‚¯æ•°: ${clickCount}, ã‚¹ã‚³ã‚¢: ${points}`);
    }

    //ã‚²ãƒ¼ãƒ ã‚’åœæ­¢ã™ã‚‹ã‚‚ã®
    function gameStop() {
        if (isGameRunning) {
            endGame();
        }
        return Math.min(points, 100);
    }
</script>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="https://we2026_statics.sawayuki.com/control.js" defer></script>

</html>